<?xml version="1.0"?>

<configuration>
  <configSections>
    <section name="trayGarden" type="TrayGarden.Configuration.SectionHandler, TrayGarden" />
  </configSections>

  <trayGarden>

    <modernFactory type="TrayGarden.Configuration.ModernFactory, TrayGarden" />

    <mock type="TrayGarden.MockType">
      <StrValue>HelloStr</StrValue>
      <IntValue>15</IntValue>
      <BoolValue>True</BoolValue>
      <ObjValue>
        <mock2 type="TrayGarden.MockType">
          <IntValue>25</IntValue>
        </mock2>
      </ObjValue>
      <IntList hint="list">
        <value1>10</value1>
        <value2>20</value2>
        <value3>30</value3>
      </IntList>
      <StrList hint="list">
        <value1>first</value1>
        <value2>second</value2>
      </StrList>
      <ObjList hint="list">
        <value1 type="TrayGarden.MockType"></value1>
        <value2 type="TrayGarden.MockType"></value2>
      </ObjList>
      <MethodInt hint="raw">75</MethodInt>
      <MethodStr hint="raw">Hello Alex</MethodStr>
      <MethodObj hint="raw">
        <mock2 type="TrayGarden.MockType">
          <IntValue>25</IntValue>
        </mock2>
      </MethodObj>
    </mock>

    <resourceManager type="TrayGarden.Resources.MultisourceResourcesManager">
      <Sources hint="list">
        <source type="TrayGarden.Resources.AssemblySource">
          <ResourcePath>TrayGarden.Resources.GlobalResources</ResourcePath>
          <AssemblyName>TrayGarden</AssemblyName>
        </source>
      </Sources>
    </resourceManager>

    <pipelineManager type="TrayGarden.Pipelines.Engine.PipelineManager">
      <Pipelines hint="list">
        <simple type="TrayGarden.Pipelines.Engine.Pipeline">
          <ArgumentTypeStr>TrayGarden.Pipelines.Simple.SomeArgs</ArgumentTypeStr>
          <Name>simple</Name>
          <ProcessorObjects hint="list">
            <processor type="TrayGarden.Pipelines.Simple.SomeProcessor" />
          </ProcessorObjects>
        </simple>
      </Pipelines>
    </pipelineManager>

    <typeHatcherManager type="TrayGarden.TypesHatcher.HatcherManager">
      <EggPrototype>
        <eggPrototype type="TrayGarden.TypesHatcher.Egg" />
      </EggPrototype>
      <Mappings hint="list">
        <mapping type="TrayGarden.TypesHatcher.Mapping">
          <InterfaceTypeStr>TrayGarden.Features.RuntimeSettings.Provider.IContainer</InterfaceTypeStr>
          <IsSingletone>false</IsSingletone>
          <InstanceConfigurationPath>bricks/containerPrototype</InstanceConfigurationPath>
        </mapping>
        <mapping type="TrayGarden.TypesHatcher.Mapping">
          <InterfaceTypeStr>TrayGarden.Features.RuntimeSettings.Provider.ISettingsStorage</InterfaceTypeStr>
          <IsSingletone>true</IsSingletone>
          <InstanceConfigurationPath>bricks/storageProvider</InstanceConfigurationPath>
        </mapping>
        <mapping type="TrayGarden.TypesHatcher.Mapping">
          <InterfaceTypeStr>TrayGarden.Resources.IResourcesManager</InterfaceTypeStr>
          <IsSingletone>true</IsSingletone>
          <InstanceConfigurationPath>resourceManager</InstanceConfigurationPath>
        </mapping>
        <mapping type="TrayGarden.TypesHatcher.Mapping">
          <InterfaceTypeStr>TrayGarden.Pipelines.Engine.IPipelineManager</InterfaceTypeStr>
          <IsSingletone>true</IsSingletone>
          <InstanceConfigurationPath>pipelineManager</InstanceConfigurationPath>
        </mapping>
      </Mappings>
    </typeHatcherManager>

    <features>
      <runtimeSettings>
        <manager>
          <!--Interval in seconds. If zero - disabled -->
          <autoSaveInterval>0</autoSaveInterval>

        </manager>
      </runtimeSettings>
    </features>

    <bricks>
      <storageProvider type="TrayGarden.Features.RuntimeSettings.Provider.SettingsStorage">
        <FileName>RuntimeSettings.xml</FileName>
        <!--If false, will use folder in ApplicationData -->
        <UseLocalFolder>false</UseLocalFolder>
      </storageProvider>

      <containerPrototype type="TrayGarden.Features.RuntimeSettings.Provider.Container" />

    </bricks>

    <settings>
      <setting name="ApplicationData.FolderName" value="TrayGarden" />
    </settings>
  </trayGarden>


  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0" />
  </startup>
</configuration>